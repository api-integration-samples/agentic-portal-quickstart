<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Apigee Agentic Portal</title>
        <link rel="icon" type="image/x-icon" href="/favicon.png" />
        <script>
            // ERROR
            window.onerror = function myErrorHandler(
                errorMsg,
                url,
                lineNumber,
            ) {
                window.location.href = "/error";
                return false;
            };
        </script>
        <style>
            :root {
                --bg-color: #0f172a;
                --card-bg: #1a1a1e;
                --text-primary: #ececf1;
                --text-secondary: #9b9ca7;
                --accent: #c9ceff;
                --accent-hover: #747bff;
                --code-font: "Menlo", "Monaco", "Courier New", monospace;
                --body-font:
                    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
                    Helvetica, Arial, sans-serif;
            }

            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                background-color: var(--bg-color);
                color: var(--text-primary);
                font-family: var(--body-font);
                height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
                position: relative;
            }

            /* subtle background noise effect */
            body::before {
                content: "";
                position: absolute;
                top: -50%;
                left: -50%;
                width: 200%;
                height: 200%;
                background: radial-gradient(
                    circle at center,
                    rgba(100, 108, 255, 0.03) 0%,
                    transparent 50%
                );
                pointer-events: none;
                z-index: -1;
            }

            .container {
                text-align: center;
                max-width: 600px;
                padding: 2rem;
                animation: fadeUp 0.8s cubic-bezier(0.16, 1, 0.3, 1);
            }

            .glitch-wrapper {
                font-size: 8rem;
                font-weight: 800;
                line-height: 1;
                position: relative;
                display: inline-block;
                color: var(--text-primary);
                margin-bottom: 1rem;
                letter-spacing: -5px;
            }

            .status-text {
                font-size: 1.5rem;
                font-weight: 500;
                margin-bottom: 2rem;
                color: var(--text-secondary);
            }

            .joke-card {
                background: var(--card-bg);
                border: 1px solid rgba(255, 255, 255, 0.05);
                border-radius: 12px;
                padding: 1.5rem;
                margin-bottom: 2.5rem;
                position: relative;
                transition: transform 0.2s ease;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            }

            .joke-card:hover {
                transform: translateY(-2px);
                border-color: rgba(100, 108, 255, 0.2);
            }

            .joke-label {
                font-family: var(--code-font);
                font-size: 0.75rem;
                text-transform: uppercase;
                color: var(--accent);
                letter-spacing: 1px;
                margin-bottom: 0.5rem;
                display: block;
                opacity: 0.8;
            }

            .joke-content {
                font-family: var(--code-font);
                font-size: 0.95rem;
                line-height: 1.6;
                color: var(--text-primary);
            }

            .cursor {
                display: inline-block;
                width: 8px;
                height: 15px;
                background-color: var(--accent);
                animation: blink 1s step-end infinite;
                vertical-align: middle;
                margin-left: 4px;
            }

            .actions {
                display: flex;
                gap: 1rem;
                justify-content: center;
            }

            .btn {
                padding: 0.8rem 1.5rem;
                border-radius: 8px;
                font-size: 0.9rem;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.2s ease;
                text-decoration: none;
                border: none;
                display: inline-flex;
                align-items: center;
                gap: 8px;
            }

            .btn-primary {
                background-color: var(--text-primary);
                color: var(--bg-color);
            }

            .btn-primary:hover {
                background-color: white;
                transform: scale(1.02);
                box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);
            }

            .btn-ghost {
                background-color: transparent;
                color: var(--text-secondary);
                border: 1px solid rgba(255, 255, 255, 0.1);
            }

            .btn-ghost:hover {
                border-color: var(--text-secondary);
                color: var(--text-primary);
            }

            /* Animations */
            @keyframes fadeUp {
                from {
                    opacity: 0;
                    transform: translateY(20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            @keyframes blink {
                0%,
                100% {
                    opacity: 1;
                }
                50% {
                    opacity: 0;
                }
            }

            /* Responsive */
            @media (max-width: 600px) {
                .glitch-wrapper {
                    font-size: 5rem;
                }
                .container {
                    padding: 1.5rem;
                }
                .actions {
                    flex-direction: column;
                }
                .btn {
                    width: 100%;
                    justify-content: center;
                }
            }

            /* Icon SVG styles */
            .icon {
                width: 16px;
                height: 16px;
                fill: currentColor;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="glitch-wrapper">500</div>
            <div class="status-text">
                We are experiencing technical difficulties, please try again
                later.
            </div>

            <div class="joke-card" id="jokeCard">
                <span class="joke-label">console.error(reason)</span>
                <p class="joke-content">
                    <span id="jokeText">Loading wittiness...</span
                    ><span class="cursor"></span>
                </p>
            </div>

            <div class="actions">
                <button
                    class="btn btn-ghost"
                    onclick="window.location.href='/'"
                >
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" />
                    </svg>
                    Retry
                </button>
                <!--<button class="btn btn-ghost" onclick="updateJoke()">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path
                            d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"
                        />
                    </svg>
                    Refresh Joke
                </button>-->
            </div>
        </div>

        <script>
            const jokes = [
                "I tried to catch the error, but I didn't await the consequences.",
                "404: Sarcasm module not found. Please install sarcasm-v2.0.0.",
                "This page is stateless, unlike your anxiety right now.",
                "We promised to return a page, but that Promise was rejected.",
                "A 500 error walks into a bar. The bartender says, 'We don't serve your kind here.' The server crashes.",
                "Knock knock. \nRace condition. \nWho's there?",
                "Why did the web developer walk out of the bar? He didn't get a callback.",
                "I'd tell you a joke about UDP, but you probably wouldn't get it.",
                "This isn't a bug, it's an undocumented feature of our downtime strategy.",
                "ERROR: Success is not defined. (Please define success).",
                "Your request header was so big it gave the server a headache (431).",
                "I am a teapot (418). Short and stout. Here is my handle, here is myâ€”STACK OVERFLOW.",
                "We are experiencing a layer 8 issue. (Problem exists between keyboard and chair).",
                "Failed to load resource: the server responded with a status of 'I give up'.",
                "Maybe if you refresh one more time, the API will pity you.",
            ];

            const jokeText = document.getElementById("jokeText");

            function typeWriter(text, i, fnCallback) {
                if (i < text.length) {
                    jokeText.innerHTML = text.substring(0, i + 1);
                    setTimeout(function () {
                        typeWriter(text, i + 1, fnCallback);
                    }, 30); // Speed of typing
                } else if (typeof fnCallback == "function") {
                    fnCallback();
                }
            }

            function updateJoke() {
                // Get a random joke different from current one if possible
                let currentJoke = jokeText.innerText;
                let newJoke = jokes[Math.floor(Math.random() * jokes.length)];

                while (newJoke === currentJoke && jokes.length > 1) {
                    newJoke = jokes[Math.floor(Math.random() * jokes.length)];
                }

                // Simple animation reset
                jokeText.innerHTML = "";
                typeWriter(newJoke, 0);
            }

            // Initialize
            document.addEventListener("DOMContentLoaded", () => {
                setTimeout(() => {
                    updateJoke();
                }, 3000);
                setInterval(() => {
                    updateJoke();
                }, 10000);
            });
        </script>
    </body>
</html>
